{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../OffscreenCanvasTable/src/OffscreenCanvasTable.ts","webpack:///../share/CanvasTableTouchEvent.ts","webpack:///../share/OffscreenCanvasTableMessage.ts","webpack:///./appWithWorker.ts"],"names":[],"mappings":"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","file":"dist/appWithWorker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./appWithWorker.ts\");\n","import { OffscreenCanvasMesssage, OffscreenCanvasMesssageType } from \"../../share/OffscreenCanvasTableMessage\";\r\nimport { TouchEventToCanvasTableTouchEvent } from \"../../share/CanvasTableTouchEvent\";\r\n\r\nexport class OffscreenCanvasTable {\r\n    private canvas: HTMLCanvasElement;\r\n    private worker: Worker;\r\n    readonly offscreenCanvasTableId: number;\r\n\r\n    constructor(offscreenCanvasTableId:number, worker: Worker, htmlId: string) {\r\n        this.canvas = <HTMLCanvasElement>document.getElementById(htmlId);\r\n        const offscreen = this.canvas.transferControlToOffscreen();\r\n        this.worker = worker;\r\n        this.offscreenCanvasTableId = offscreenCanvasTableId;\r\n        this.worker.postMessage(\r\n            { \r\n                mthbCanvasTable: offscreenCanvasTableId, \r\n                type: OffscreenCanvasMesssageType.create, \r\n                offscreen: offscreen,\r\n                width: this.canvas.clientWidth,\r\n                height: this.canvas.clientHeight,\r\n                r: window.devicePixelRatio\r\n            }, \r\n            [ <any>offscreen ]);\r\n\r\n        this.canvas.addEventListener(\"wheel\", this.canvasWheel);\r\n        this.canvas.addEventListener(\"mousedown\", this.canvasMouseDown);\r\n        this.canvas.addEventListener(\"mousemove\", this.canvasMouseMove);\r\n        this.canvas.addEventListener(\"mouseup\", this.canvasMouseUp);\r\n        this.canvas.addEventListener(\"mouseleave\", this.canvasMouseLeave);\r\n        this.canvas.addEventListener(\"touchstart\", this.canvasTouchStart);\r\n        this.canvas.addEventListener(\"touchmove\", this.canvasTouchMove);\r\n        this.canvas.addEventListener(\"touchend\", this.canvasTouchEnd);\r\n        this.canvas.addEventListener(\"keydown\", this.canvasKeydown);\r\n        window.addEventListener(\"resize\", () => {\r\n            this.resize();\r\n        });\r\n        worker.addEventListener('message', this.workerMessage);\r\n    }\r\n    public expendedAll():void {\r\n        this.postMessage({\r\n            mthbCanvasTable: this.offscreenCanvasTableId, \r\n            type: OffscreenCanvasMesssageType.expendedAll\r\n        });\r\n    }\r\n    public collapseAll():void {\r\n        this.postMessage({\r\n            mthbCanvasTable: this.offscreenCanvasTableId, \r\n            type: OffscreenCanvasMesssageType.collapseAll\r\n        });\r\n    }\r\n    public setGroupBy(col?:string[]) {\r\n        this.postMessage({\r\n            mthbCanvasTable: this.offscreenCanvasTableId, \r\n            type: OffscreenCanvasMesssageType.setGroupBy,\r\n            groupBy: col\r\n        });\r\n    }\r\n    private resize() {\r\n        this.postMessage({\r\n            mthbCanvasTable: this.offscreenCanvasTableId, \r\n            type: OffscreenCanvasMesssageType.resize, \r\n            width: this.canvas.clientWidth,\r\n            height: this.canvas.clientHeight,\r\n            r: window.devicePixelRatio\r\n        });\r\n    }\r\n\r\n    private canvasWheel = (e: WheelEvent) => {\r\n        e.preventDefault(); \r\n        this.postMessage({\r\n            mthbCanvasTable: this.offscreenCanvasTableId, \r\n            type: OffscreenCanvasMesssageType.scroll, \r\n            deltaMode: e.deltaMode,\r\n            deltaX: e.deltaX,\r\n            deltaY: e.deltaY        \r\n        });\r\n    }\r\n    private canvasMouseDown = (e: MouseEvent) => {\r\n        e.preventDefault();\r\n        this.postMessage({\r\n            mthbCanvasTable: this.offscreenCanvasTableId, \r\n            type: OffscreenCanvasMesssageType.mouseDown, \r\n            x: e.clientX - this.canvas.offsetLeft,\r\n            y: e.clientY - this.canvas.offsetTop\r\n        });\r\n    }\r\n    private canvasMouseMove = (e: MouseEvent) => {\r\n        e.preventDefault();\r\n        this.postMessage({\r\n            mthbCanvasTable: this.offscreenCanvasTableId, \r\n            type: OffscreenCanvasMesssageType.mouseMove, \r\n            x: e.clientX - this.canvas.offsetLeft,\r\n            y: e.clientY - this.canvas.offsetTop\r\n        });\r\n    }\r\n    private canvasMouseUp = (e: MouseEvent) => {\r\n        e.preventDefault();\r\n        this.postMessage({\r\n            mthbCanvasTable: this.offscreenCanvasTableId, \r\n            type: OffscreenCanvasMesssageType.mouseUp, \r\n            x: e.clientX - this.canvas.offsetLeft,\r\n            y: e.clientY - this.canvas.offsetTop\r\n        });\r\n    }\r\n    private canvasMouseLeave = () => {\r\n        this.postMessage({\r\n            mthbCanvasTable: this.offscreenCanvasTableId, \r\n            type: OffscreenCanvasMesssageType.mouseLeave\r\n        });\r\n    }\r\n\r\n    private canvasTouchStart = (e: TouchEvent) => {\r\n        e.preventDefault();\r\n        this.postMessage({\r\n            mthbCanvasTable: this.offscreenCanvasTableId,\r\n            type: OffscreenCanvasMesssageType.TouchStart,\r\n            event:TouchEventToCanvasTableTouchEvent(e),\r\n            offsetTop: this.canvas.offsetTop,\r\n            offsetLeft: this.canvas.offsetLeft\r\n        });\r\n    }\r\n    private canvasTouchMove = (e: TouchEvent) => {\r\n        e.preventDefault();\r\n        this.postMessage({\r\n            mthbCanvasTable: this.offscreenCanvasTableId,\r\n            type: OffscreenCanvasMesssageType.TouchMove,\r\n            event:TouchEventToCanvasTableTouchEvent(e),\r\n            offsetTop: this.canvas.offsetTop,\r\n            offsetLeft: this.canvas.offsetLeft\r\n        });\r\n    }\r\n    private canvasTouchEnd = (e: TouchEvent) => {\r\n        e.preventDefault();\r\n        this.postMessage({\r\n            mthbCanvasTable: this.offscreenCanvasTableId,\r\n            type: OffscreenCanvasMesssageType.TouchEnd,\r\n            event:TouchEventToCanvasTableTouchEvent(e),\r\n            offsetTop: this.canvas.offsetTop,\r\n            offsetLeft: this.canvas.offsetLeft\r\n        });\r\n    }\r\n\r\n    private canvasKeydown = (e: KeyboardEvent) => {\r\n        this.postMessage({\r\n            mthbCanvasTable: this.offscreenCanvasTableId, \r\n            type: OffscreenCanvasMesssageType.keyDown,\r\n            keycode: e.keyCode\r\n        });\r\n    }\r\n\r\n    private canvasMouseUpExtended = (e: MouseEvent) => {\r\n        e.preventDefault();\r\n        this.postMessage({\r\n            mthbCanvasTable: this.offscreenCanvasTableId, \r\n            type: OffscreenCanvasMesssageType.mouseUpExtended, \r\n            x: e.clientX - this.canvas.offsetLeft,\r\n            y: e.clientY - this.canvas.offsetTop\r\n        });\r\n\r\n    }\r\n    private canvasMouseMoveExtended = (e: MouseEvent) => {\r\n        e.preventDefault();\r\n        this.postMessage({\r\n            mthbCanvasTable: this.offscreenCanvasTableId, \r\n            type: OffscreenCanvasMesssageType.mouseMoveExtended, \r\n            x: e.clientX - this.canvas.offsetLeft,\r\n            y: e.clientY - this.canvas.offsetTop\r\n        });\r\n    }\r\n\r\n    private workerMessage = (message:MessageEvent) => {\r\n        if (message.data.mthbCanvasTable !== this.offscreenCanvasTableId) { return; }\r\n        var data = <OffscreenCanvasMesssage>message.data;\r\n        switch (data.type){\r\n            case OffscreenCanvasMesssageType.askForExtentedMouseMoveAndMaouseUp:\r\n                this.canvas.removeEventListener(\"mousemove\", this.canvasMouseMove);\r\n                this.canvas.removeEventListener(\"mouseup\", this.canvasMouseUp);\r\n                window.addEventListener(\"mousemove\", this.canvasMouseMoveExtended);\r\n                window.addEventListener(\"mouseup\", this.canvasMouseUpExtended);            \r\n                break;\r\n            case OffscreenCanvasMesssageType.askForNormalMouseMoveAndMaouseUp:\r\n                window.removeEventListener(\"mousemove\", this.canvasMouseMoveExtended);\r\n                window.removeEventListener(\"mouseup\", this.canvasMouseUpExtended);\r\n                this.canvas.addEventListener(\"mousemove\", this.canvasMouseMove);\r\n                this.canvas.addEventListener(\"mouseup\", this.canvasMouseUp);            \r\n                break;\r\n        }\r\n    }\r\n\r\n    private postMessage(data:OffscreenCanvasMesssage): void {\r\n        this.worker.postMessage(data);    \r\n    }\r\n}\r\n","export interface CanvasTableTouchEvent {\r\n    changedTouches: {pageX:number, pageY:number}[],\r\n    touches: {pageX:number, pageY:number}[]\r\n};\r\n\r\ninterface MyTouchEvent {\r\n    readonly altKey: boolean;\r\n    readonly changedTouches: MyTouchList;\r\n    readonly ctrlKey: boolean;\r\n    readonly metaKey: boolean;\r\n    readonly shiftKey: boolean;\r\n    readonly touches: MyTouchList;\r\n}\r\ninterface MyTouchList {\r\n    readonly length: number;\r\n    item(index: number): MyTouch | null;\r\n    [index: number]: MyTouch;\r\n}\r\ninterface MyTouch {\r\n    readonly pageX: number;\r\n    readonly pageY: number;\r\n}\r\n\r\nexport function TouchEventToCanvasTableTouchEvent(e: MyTouchEvent):CanvasTableTouchEvent{\r\n    const x: CanvasTableTouchEvent = { changedTouches:[], touches:[] };\r\n    for (var i = 0; i< e.changedTouches.length; i++){\r\n        x.changedTouches.push({\r\n            pageX : e.changedTouches[i].pageX, \r\n            pageY : e.changedTouches[i].pageY})\r\n    }\r\n    for (var i = 0; i< e.touches.length; i++){\r\n        x.touches.push({\r\n            pageX : e.touches[i].pageX, \r\n            pageY : e.touches[i].pageY})\r\n    }\r\n    return x;\r\n}","import { CanvasTableTouchEvent } from \"./CanvasTableTouchEvent\";\r\n\r\nexport enum OffscreenCanvasMesssageType { \r\n    create = 0, \r\n    resize = 1,\r\n    expendedAll = 2, collapseAll = 3, setGroupBy = 4,\r\n    scroll = 10, \r\n    mouseDown = 20, mouseMove = 21, mouseUp = 22, mouseLeave = 23, mouseMoveExtended = 24, mouseUpExtended = 25,\r\n    TouchStart = 30, TouchMove = 31, TouchEnd = 32,\r\n    keyDown = 40,\r\n    askForExtentedMouseMoveAndMaouseUp = 100, askForNormalMouseMoveAndMaouseUp = 101\r\n    }\r\n\r\ninterface OffscreenCanvasMesssageParnet {\r\n    type:OffscreenCanvasMesssageType,\r\n    mthbCanvasTable:number\r\n}\r\n\r\ninterface OffscreenCanvasMessageCreate extends OffscreenCanvasMesssageParnet {\r\n    type: OffscreenCanvasMesssageType.create,\r\n    offscreen: OffscreenCanvas,\r\n    width: number,\r\n    height: number,\r\n    r: number\r\n}\r\n\r\ninterface OffscreenCanvasMessageResize extends OffscreenCanvasMesssageParnet {\r\n    type: OffscreenCanvasMesssageType.resize,\r\n    width: number,\r\n    height: number,\r\n    r: number\r\n}\r\n\r\n\r\ninterface OffscreenCanvasMessageFunctions extends OffscreenCanvasMesssageParnet {\r\n    type: OffscreenCanvasMesssageType.expendedAll \r\n        | OffscreenCanvasMesssageType.collapseAll \r\n        | OffscreenCanvasMesssageType.askForExtentedMouseMoveAndMaouseUp \r\n        | OffscreenCanvasMesssageType.askForNormalMouseMoveAndMaouseUp\r\n}\r\n\r\ninterface OffscreenCanvasMessageScroll extends OffscreenCanvasMesssageParnet {\r\n    type: OffscreenCanvasMesssageType.scroll,\r\n    deltaMode: number,\r\n    deltaX: number,\r\n    deltaY: number\r\n}\r\n\r\ninterface OffscreenCanvasMessageMouse extends OffscreenCanvasMesssageParnet {\r\n    type: OffscreenCanvasMesssageType.mouseDown | OffscreenCanvasMesssageType.mouseMove | OffscreenCanvasMesssageType.mouseUp\r\n        | OffscreenCanvasMesssageType.mouseMoveExtended | OffscreenCanvasMesssageType.mouseUpExtended,\r\n    x: number,\r\n    y: number\r\n}\r\n\r\ninterface OffscreenCanvasMessageMouseLeave extends OffscreenCanvasMesssageParnet {\r\n    type: OffscreenCanvasMesssageType.mouseLeave\r\n}\r\ninterface OffscreenCanvasMessageKeyDown extends OffscreenCanvasMesssageParnet {\r\n    type: OffscreenCanvasMesssageType.keyDown,\r\n    keycode: number\r\n}\r\ninterface OffscreenCanvasMesssageTouch extends OffscreenCanvasMesssageParnet {\r\n    type: OffscreenCanvasMesssageType.TouchStart | \r\n    OffscreenCanvasMesssageType.TouchMove |\r\n    OffscreenCanvasMesssageType.TouchEnd,\r\n    event: CanvasTableTouchEvent, \r\n    offsetLeft: number, \r\n    offsetTop: number\r\n}\r\n\r\ninterface OffscreenCanvasMessageGroupBy extends OffscreenCanvasMesssageParnet {\r\n    type: OffscreenCanvasMesssageType.setGroupBy,\r\n    groupBy?: string[]\r\n}\r\n\r\nexport type OffscreenCanvasMesssage = \r\n      OffscreenCanvasMessageScroll \r\n    | OffscreenCanvasMessageCreate\r\n    | OffscreenCanvasMessageResize\r\n    | OffscreenCanvasMessageFunctions\r\n    | OffscreenCanvasMessageGroupBy\r\n    | OffscreenCanvasMessageMouse\r\n    | OffscreenCanvasMessageMouseLeave\r\n    | OffscreenCanvasMessageKeyDown\r\n    | OffscreenCanvasMesssageTouch;","\r\nimport {OffscreenCanvasTable} from '../OffscreenCanvasTable/src/OffscreenCanvasTable';\r\n\r\nconst worker = new Worker('dist/worker.js');\r\nconst canvasTable = new OffscreenCanvasTable(1, worker, \"canvas\");\r\n\r\nworker.addEventListener('message', message => {\r\n    console.log(message);\r\n});\r\n\r\nworker.postMessage('this is a test message to the worker');\r\nvar isGroup = true;\r\nconst group = function() {\r\n    const expendedAll = document.getElementById(\"expendedAll\");\r\n    const collapseAll = document.getElementById(\"collapseAll\");\r\n    const groupDom = document.getElementById(\"group\");\r\n    if (!expendedAll || !collapseAll || !groupDom) { return; }\r\n    if (isGroup) {\r\n       canvasTable.setGroupBy();\r\n       expendedAll.style.display = \"none\";\r\n       collapseAll.style.display = \"none\";\r\n       groupDom.innerText = \"Group\";\r\n    } else {\r\n       canvasTable.setGroupBy([\"country\", \"subcountry\"]);\r\n       expendedAll.style.display = \"\";\r\n       collapseAll.style.display = \"\";\r\n       groupDom.innerText = \"Ungroup\";\r\n    }\r\n    isGroup = !isGroup;\r\n}\r\n\r\ngroup();\r\n\r\nvar w = (<any>window);\r\nw.canvasTable = canvasTable;\r\nw.group = group;\r\n"],"sourceRoot":""}